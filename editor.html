<!DOCTYPE html>
<html>
<head>
	<title>Level Editor - Campus Safari</title>
	<meta charset="UTF-8">

	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="style/editor.css">

	<script type="text/javascript" src="js/tileset.js"></script>
	<script type="text/javascript" src="js/loader.js"></script>
	<script type="text/javascript" src="js/level.js"></script>
	<script type="text/javascript" src="js/editor.js"></script>
</head>
<body>
	<div id="content">
		<div id="upper" class="row">
			<div>
				<div id="levelParams" class="params">
					<div>
						<label for="levelCellsize">Level cellsize (px)</label>
						<input id="levelCellsize" type="number" value="16" />
					</div>
					<div>
						<label for="levelWidth">Level width (cells)</label>
						<input id="levelWidth" type="number" placeholder="30" />
					</div>
					<div>
						<label for="levelHeight">Level height (cells)</label>
						<input id="levelHeight" type="number" placeholder="30" />
					</div>
					<div>
						<label for="levelCreate">Update level size</label>
						<button id="levelCreate">Update</button>
					</div>
					<div>
						<label for="levelImport">Import JSON</label>
						<input id="levelImport" type="file" accept="application/json" />
					</div>
					<div>
						<label for="levelExport">Export JSON</label>
						<button id="levelExport">Save</button>
					</div>
					<div>
						<label for="levelEditMode">Edit mode</label>
						<select id="levelEditMode" onchange="alert('todo')">
							<option value="terrain" selected>Terrain</option>
						</select>
					</div>
				</div>
				<canvas id="level" width="768" height="512" style="border:1px solid #000;"></canvas>
			</div>
			<div class="terrain">
				<h3>Extracted patches</h3>
				<button id="deletePatch">Delete current patch</button>
				<div id="patchesSelection"></div>
			</div>
		</div>
		<div id="lower" class="row">
			<div class="terrain">
				<h3 id="tilesetName">Tileset name</h3>
				<div id="tilesetParams" class="params">
					<div>
						<label for="tilesetNext">Change Tileset</label>
						<div>
							<button id="tilesetPrev">Previous</button>
							<button id="tilesetNext">Next</button>
						</div>
					</div>
					<div>
						<label for="tilesetTilesize">Tile size (px)</label>
						<input id="tilesetTilesize" type="number" value="32" />
					</div>
					<div>
						<label for="tilesetSeparation">Tile separation (px)</label>
						<input id="tilesetSeparation" type="number" value="0" />
					</div>
					<div>
						<label for="tilesetChangeBackground">Change background</label>
						<button id="tilesetChangeBackground">Color</button>
					</div>
				</div>
				<canvas id="tileset"></canvas>
			</div>
			<div class="terrain">
				<h3>Current patch</h3>
				<div id="patchParams" class="params">
					<div>
						<label for="patchWidth">Tiles per row</label>
						<input id="patchWidth" type="number" min="1" value="1" />
					</div>
					<div>
						<label for="patchScale">Scale (%)</label>
						<input id="patchScale" type="number" value="100" step="any" />
					</div>
					<div>
						<label for="getPatch">Add to level</label>
						<button id="getPatch">Confirm</button>
					</div>
				</div>
				<canvas id="patch"></canvas>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		window.addEventListener('load', e => {
			Editor.setupEditor();
			return true;
		});
	</script>
</body>
</html>
